generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["views"]
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model istla_estado_solicitud {
  ID_ESTADO              Int                      @id @default(autoincrement())
  ESTADO                 String                   @db.VarChar(15)
  istla_solicitudes_beca istla_solicitudes_beca[]
}

model istla_solicitudes_beca {
  ID_SOLICITUD           Int                    @id @default(autoincrement())
  CEDULA_ESTUDIANTE      String                 @db.VarChar(20)
  ID_TIPO_BECA           Int
  ID_PERIODO             String                 @db.VarChar(20)
  FECHA                  DateTime               @db.Date
  ESTADO                 Int
  DOCUMENTO_SOLICITUD    Bytes
  istla_tipo_beca        istla_tipo_beca        @relation(fields: [ID_TIPO_BECA], references: [ID_TIPO_BECA], onUpdate: Restrict, map: "istla_solicitudes_beca_ibfk_1")
  istla_estado_solicitud istla_estado_solicitud @relation(fields: [ESTADO], references: [ID_ESTADO], onUpdate: Restrict, map: "istla_solicitudes_beca_ibfk_2")

  @@index([ESTADO], map: "estado")
  @@index([ID_TIPO_BECA], map: "tipo_beca")
}

model istla_tipo_beca {
  ID_TIPO_BECA           Int                      @id @default(autoincrement())
  TIPO_BECA              String                   @db.VarChar(255)
  istla_solicitudes_beca istla_solicitudes_beca[]
}

view vista_solicitud_beca_detalle {
  ESTADO              String   @unique @db.VarChar(15)
  TIPO_BECA           String   @db.VarChar(255)
  CEDULA_ESTUDIANTE   String   @db.VarChar(20)
  FECHA               DateTime @db.Date
  DOCUMENTO_SOLICITUD Bytes
  ID_PERIODO          String   @db.VarChar(20)
  ID_SOLICITUD        Int      @default(0)
}
